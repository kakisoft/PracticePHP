[引用 aid=5252001 time=1629795251][返信 aid=4945685 to=204177818-1481929182744252416]平井　将道さん
先ほどは打ちあわせありがとうございました。

相談させて頂いた謎現象ですが、キューワーカーを再起動すると、ログが正常出力されました。

何というバッドノウハウ。(dance)[/引用]

________________________________________________________________________________________________


queue:listen


________________________________________________________________________________________________
php artisan queue:listen




https://readouble.com/laravel/7.x/ja/queues.html
別の方法として、queue:listenコマンドを実行することもできます。queue:listenコマンドを使えば更新したコードをリロード、もしくはアプリケーションの状態をリセットしたい場合に、手動でワーカをリスタートする必要がなくなります。しかし、このコマンドはqueue:workほど効率はよくありません。




https://reffect.co.jp/laravel/laravel-queue-setting-manuplate
キューのジョブを処理するための方法には、php artisan queue:workとphp artisan queue:listenの2つがあります。

queue:workではコードの変更があれば一度停止して、再度起動する必要がありますが、queue:listenだと一度起動をすればコードの修正を行なっても再起動する必要がありません。–tries等のオプションはどちらも使用することができます。



failed_jobsテーブルに登録されているすべてのジョブを一括で削除したい場合は、php artisan queue:flushコマンドを実行します。


php artisan queue:retry

________________________________________________________________________________________________




