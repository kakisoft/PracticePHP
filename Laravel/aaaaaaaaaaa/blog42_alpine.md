

________________________________________________________________

Docker のベースイメージに [Alpine](https://alpinelinux.org/) という軽量Linux が使われる事がある。  

「軽量で」

Alpine 


Alpine Linux






alpine ベースイメージのせいで、ECS Exec を使ってコンテナログインが出来ない。
コンテナログインするには SSMエージェントをインストールする必要があるが、alpine がそれに対応していない。

コンテナログインしたい場合はベースイメージから作り変える必要があり、そうなるとパッケージマネージャーから変わってくるという、なかなかの作業。

alpine は「超軽量！」という謳い文句で出てきたものの、「軽量化を進めるために、色々な物を犠牲にしているのでは？」という印象は拭い切れなかったし、
仕事でもプライベートでも使っててずっとそう思っていたが、日に日にその確信は強まる。。

次回は、Debian ベースで。



コンテナにログインできない事が 





[引用 aid=5252001 time=1632972765]alpine ベースイメージのせいで、ECS Exec を使ってコンテナログインが出来ない。
コンテナログインするには SSMエージェントをインストールする必要があるが、alpine がそれに対応していない。

コンテナログインしたい場合はベースイメージから作り変える必要があり、そうなるとパッケージマネージャーから変わってくるという、なかなかの作業。

alpine は「超軽量！」という謳い文句で出てきたものの、「軽量化を進めるために、色々な物を犠牲にしているのでは？」という印象は拭い切れなかったし、
仕事でもプライベートでも使っててずっとそう思っていたが、日に日にその確信は強まる。。

次回は、Debian ベースで。




インフラをゴリゴリ触って、ようやく気付いた事なんだが、**インフラの障害は非常に体に悪い。**

特に AWSの知見が浅いうちは、障害箇所の特定すら困難で、どこから手をつけていいのかすら分からないと思う。
というか、今でも全然得意じゃない。

「ローカル環境では」
AWS の設定に問題があるの可能性が高井のでは？
という所まで突き止めても、

そんな時、不安材料は

コンテナサイコー！　コンテナヤッホー！
と、無条件でコンテナを称賛する声も聞こえるが
もし個人プロダクトで規模の小さいアプリをサクッと作るなら、ECS をゴリゴリ使うようなヘビーな構成に絶対にしねえ。
（ローカル環境で開発する分には Docker を使わない開発は考えられないけど）

個人的には、プライベートで使うなら、クラウド破産に怯える事の無い、さくらのクラウド定額コースを推す。（そもそも油断してたらヘビーな課金が来るので、そのための監視設定を入れたりチェックしたりする手間が、本質から外れてて凄い嫌。）

AWS を使うにしても、コンテナ１個で済むような小さいアプリなら、EC2 を選択する。
一部では「EC2を使ったら負け」と考える謎の勢力も居るみたいだが、そんなモノは一部の変態の意見として聞こえないものする。

というか、EC2で十分な場面、もしくは AWS の各種サービスを使い倒すだけの知見があるメンバーが居ない場合、絶対に素直に EC2 を使っておいた方がいい。

大きな理由としては、**障害が発生した時、原因調査の難易度を圧倒的に低く抑える事が出来る。**  

そして、

胃がキリキリ痛み始める。



ある程度の規模のプロジェクトを少ない人数で高速で回していくには有効だが、
そもそも開発者が一人で規模



